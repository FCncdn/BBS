{% extends 'base.html' %}
{% load highlight %}

{% block style %}
span.highlighted {
    color: red;
}

.search-container {
    padding-top: 80px;
}
.search-trending-header{
    content: " ";
    display: table;
    padding-top:40px;
    padding-left:39px;
}
.search-change{
    padding-left:40px;
}
.search-trending-tag-wrap li {
    margin-right: 10px;
    display: inline-block;
    line-height: 28px;
    padding-top:20px;
}
.aside .search-trending-tag-wrap{
    width: 218.75px;
}
.search-recent-header{
    content: " ";
    display: table;
    padding-top:40px;
    padding-left:39px;
}
.recent-change{
    padding-left:40px
}
.search-recent-item-wrap li {
    margin-right: 10px;
    display: list-item;
    line-height: 28px;
    padding-top:20px;

    text-align: -webkit-match-parent;
}
.aside{
    box-sizing:border-box;

}

 .result {
    position: absolute;
    top: 0;
    right: 15px;
    font-size: 13px;
    color: #b4b4b4;
}
.find-nothing {
    margin-top: 150px;
    text-align: center;
}
.list-unstyled li{
    padding-top:20px;
    padding-left:39px;
    text-align: -webkit-match-parent;
}
{% endblock style %}

{% block body %}

<div class="container">
        <div class="search-container">
            <div class="row">
                <div class="col-md-3">
                    <div class="aside ">
                        <div>
                            <ul><a href=""><span class="glyphicon glyphicon-list-alt"></span>  文章</a></ul>
                            <ul><a href=""><span class="glyphicon glyphicon-user"></span>  用户</a></ul>
                            <ul><a href=""><span class="glyphicon glyphicon-th-large"></span>  专题</a></ul>
                            <ul><a href=""><span class="glyphicon glyphicon-book"></span>   文集</a></ul>
                        </div>
                        <div class="search-trending">
                            <div class="search-trending-header clearfix">
                                <span>热门搜索</span>
                                <a class="search-change">换一批</a>
                            </div>
                            <ul class="search-trending-tag-wrap">
                                <li>
                                    <a class="btn btn-default btn-sm" href="" >十九大</a>
                                </li>
                                <li>
                                    <a class="btn btn-default btn-sm" href="" >程序员</a>
                                </li>
                                <li>
                                    <a class="btn btn-default btn-sm" href="" >美食</a>
                                </li>
                                <li>
                                    <a class="btn btn-default btn-sm" href="" >ppt</a>
                                </li>
                                <li>
                                    <a class="btn btn-default btn-sm" href="" >宿备备</a>
                                </li>
    
                            </ul>
                        </div>
                        <div class="search-recent">
                            <div class="search-recent-header clearfix">
                                <span>最近搜索</span>
                                <a class="recent-change">清空</a>
                            </div>
                            <ul class="list-unstyled">
                                <li>
                                    <a href="" target="_blank"><span class="glyphicon glyphicon-time"></span>.....</a>
                                </li>
                                <li>
                                    <a href="" target><span class="glyphicon glyphicon-time"></span>.....</a>
                                </li>
                            </ul>
    
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="search-content">
                            <h2>Search</h2>
                            <form method="get" action=".">
                                <table>
                                    {{ form.as_table }}
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td>
                                            <input type="submit" value="Search">
                                        </td>
                                    </tr>
                                </table>
                            </form>
                        <div class="sort-type">
                            <a class="active">
                                综合排序
                                .
                            </a>
    
                            <a class="active">
                                热门文章
                                .
                            </a>
    
                            <a class="active">
                                最新发布
                                .
                            </a>
    
                            <a class="active">
                                最新评论
                                .
                            </a>
                        </div>
                        <div class="result">0 个结果</div>

                        {% if query %}
                            {% for result in page.object_list %}
                                <div class="media">
                                    <div class="media-left">
                                        <p>{{ forloop.counter }}</p>
                                    </div>
                                    <div class="media-body">
                                        <div class="media-heading"> 
                                            <a href="{{ result.object.get_absolute_url }}">{%  highlight result.object.title with query max_length 200 %}</a>
                                            <div class="name">
                                                <a href="">{% highlight result.object.author.user.username with query %}</a>
                                                <span class="times">{{ result.object.publish_date }}</span>
                                            </div>
                                            <p class="abstract">{% highlight result.object.content with query max_length 200 %}</p>
                                        </div>
                                    </div>
                                </div>


                            {% empty %}
                                <p>No results found.</p>
                            {% endfor %}
                
                            {% if page.has_previous or page.has_next %}
                                <div>
                                    {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
                                    |
                                    {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
                                </div>
                            {% endif %}
                        {% else %}
                            {# Show some example queries to run, maybe query syntax, something else? #}
                        {% endif %}


                    </div>
                </div>
            </div>
    
        </div>
    </div>
    
    
    
{% endblock %}