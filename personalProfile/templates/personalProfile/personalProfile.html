{% extends "base.html" %}
{% block title %}
Personal homepage
{% endblock title %}

{% block extraHeadJs %}
{% load static %}
<!-- <script src="{% static 'js/holder.min.js' %}"></script> -->
{% endblock extraHeadJs %}

{% block style %}
    .person .row {
        padding-top:80px;
        margin-left: 20px;
    }
    .person .main .main-top {
        margin-bottom: 20px;
    }
    .name {
        display: inline;
        font-size: 21px;
        font-weight: 700;
        vertical-align: middle;

    }
    .person .main .main-top .name {

        padding-left:20px;
        color:#222;
    }
    .person .main-top .avatar {
        float: left;
        width: 80px;
        height: 80px;
        margin-left: -2px;
    }
    .col-xs-16{
        width:60%;
        float:left;
    }
    .list-container .note-list li{
        display:inline-block;
    }
    .col-xs-offset-1 {
        margin-left: 4.16667%;
    }

    .function-btn {
        color: #2f2f2f;
        float:right;
    }
    .person .aside .title{
        padding-bottom:10px;
    }
    .person .aside .description{
        position: relative;
        margin-bottom: 16px;
        padding: 0 0 16px;
        text-align: left;
        font-size: 0;
        border-bottom: 1px solid #f0f0f0;
        clear: both;
        word-break: break-word!important;
        word-break: break-all;
    }
    .person .aside .description .js-intro{
        margin-bottom: 10px;
        line-height: 20px;
        font-size: 14px;
    }
    .person .aside .user-dynamic{
        padding-bottom: 6px;

    }
    .person .aside .list {
        margin-bottom: 16px;
        padding-bottom: 16px;
        list-style: none;
        border-bottom: 1px solid #f0f0f0;
        clear: both;
    }

    .person .aside .user-dynamic a {
        font-size: 14px;
        color: #333;
        line-height: 30px;
    }
    .person .aside .new-collection-btn {
        font-size: 13px;
        color: #42c02e;
    }
    .person .aside .list li {
        margin-bottom: 10px;
    }

    .person .aside .list li a {
        display: inline-block;
    }
    .person .aside .avatar-collection {
        margin-right: 5px;
        width: 32px;
        height: 32px;
    }
    .avatar-collection img {
        width: 100%;
        height: 100%;
        border: 1px solid #ddd;
        border-radius: 10%;
    }

    .person .aside .name {
        position: relative;
        max-width: 176px;
        vertical-align: middle;
        top: 1px;
        font-size: 14px;
        color: #333;
    }
    .note-list-a {
        position: relative;
        width: 100%;
        margin: 0 0 17px;
        padding: 0 2px 17px 0;
        border-bottom: 1px solid #f0f0f0;
        word-wrap: break-word;
    }
    .trigger-menu {
        margin-bottom: 20px;
        border-bottom: 1px solid #f0f0f0;

    }
    .trigger-menu li {
        position: relative;
        display: inline-block;
        padding: 8px 0;
        margin-bottom: 10px;
        border-bottom: 1px solid #f0f0f0;
    }
    .note-list .abstract {
        margin: 0 0 8px;
        font-size: 13px;
        line-height: 24px;
    }

{% endblock style %}

{% block body %}
{% load guardian_tags %}
{% get_obj_perms user for userFront.profile as "profile_perms" %}

<div class="container">

    <div class="person container">
        <div class="row">

            <div class="col-md-8 main">
                <div class="main-top">
                    <a class="avatar" href=""><img src="{{ userFront.profile.headImage.url }}" alt="headImage-80" width="80" height="80"></a>
                    <div class="title">
                        <p class="name">{{ userFront.profile.name }}</p>
                    </div>

                    <div class="infor">
                        <ul class="nav navbar-nav">
                            {% if 'edit_profile' in profile_perms %}
                            <li >
                                <a class="n-data-a" href="{% url 'personalProfile:personalProfileShowFollowed' userFront.pk %}" >关注<p class="n-data-b"></p>{{ numFollower }}</a>
                            </li>
                            <li>
                                <a class="n-data-a" href="{% url 'personalProfile:personalProfileShowFollower' userFront.pk %}">粉丝<p class="n-data-b"></p>{{ numFollowed }}</a>
                            </li>
                            <li>
                                <a class="n-data-a" href="">帖子<p class="n-data-b"></p>{{ numPost }}</a>
                            </li>
                            <li>
                                <a class="n-data-a" href="">收获喜欢<p class="n-data-b">model.like.num</p></a>
                            </li>
                            {% else %}
                            <li >
                                    <a class="n-data-a" href="{% url 'personalProfile:personalProfileShowFollowed' userFront.pk %}" >关注<p class="n-data-b"></p>{{ numFollower }}</a>
                                </li>
                                <li>
                                    <a class="n-data-a" href="{% url 'personalProfile:personalProfileShowFollower' userFront.pk %}">粉丝<p class="n-data-b"></p>{{ numFollowed }}</a>
                                </li>
                                <li>
                                    <a class="n-data-a" href="">帖子<p class="n-data-b"></p>{{ numPost }}</a>
                                </li>
                                <li>
                                    <a class="n-data-a" href="">收获喜欢<p class="n-data-b">model.like.num</p></a>
                                </li>
                                <li>
                                    <a class="n-data-a" href="{% url 'personalProfile:psersonalProfileRedirectFollow' userFront.pk %}">
                                        {% if is_follow %}
                                        取消关注
                                        {% else %}
                                        关注
                                        {% endif %}
                                    </a>
                                </li>
                                
                                <li>
                                    <a class="n-data-a" href="{% url 'personalProfile:personalProfileRedirectBlackList' userFront.pk %}">
                                        {% if is_black %}        
                                        取消拉黑
                                        {% else %}
                                        拉黑
                                        {% endif %}
                                    </a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>

                    <div class="row">
                        <div class="col-xs-16 main2">
                            <div class="trigger-menu">
                                <ul class="nav navbar-nav" data-pjax-container="#list-container">
                                    <li class="active">
                                        <a href=""><span class="glyphicon glyphicon-list-alt"></span>文章</a>
                                    </li>
                                    <!-- 
                                    <li class>
                                        <a href=""><span class="glyphicon glyphicon-bell"></span>动态</a>
                                    </li>
                                    -->
                                    <li>
                                        <a href=""><span class="glyphicon glyphicon-bookmark"></span>收藏夹</a>
                                    </li>
                                    <!-- 
                                    <li>
                                        <a href=""><span class="glyphicon glyphicon-fire"></span>热门</a>
                                    </li>
                                    -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="list-container">

                        <!--文章列表模块-->
                        <ul class="note-list" infinite-scroll-url="">



                            {% for article in articles %}
                            <li class="note-list-a">
                                <div class="media">
                                    <div class="media-left">
                                        <div class="media-object">
                                            <a href=""><img src="{{ userFront.profile.headImage.url }}" width="60" height="60" alt=""></a>
                                        </div>
                                    </div>
                                    <div class="media-body">
                                        <div class="media-heading">
                                            <div class="name2">
                                                <a href="">{{ userFront.username }}</a>
                                                <span class="times">{{ article.publish_date }}</span>
                                            </div>
                                            <a href="">{{ article.title }}</a>

                                            <p class="abstract">
                                                {{ article.content }}
                                            </p>
                                        </div>
                                        <div class="footer">
                                            <div class="trigger-menu22">
                                                <ul class="nav navbar-nav" data-pjax-container="#list-container">


                                                    <li class="active">
                                                        <a href=""><span class="glyphicon glyphicon-eye-open"></span><b>{{ article.view_count }}</b></a>
                                                    </li>
                                                    <li>
                                                        <a href=""><span class="glyphicon glyphicon-comment"></span><b>{{ article.comment.count }}</b></a>
                                                    </li>
                                                    <li>
                                                        <a href=""><span class="glyphicon glyphicon-thumbs-up"></span><b>like-num</b></a>

                                                    </li>
                                                </ul>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </li>
                            {% endfor %}

                        </ul>
                    </div>
                </div>
            </div>


            <div class="col-md-4 aside">
                <div class="title">
                    个人介绍
                    {% if 'edit_profile' in profile_perms %}
                    <a class="function-btn" href="{% url 'personalProfile:personalProfileDetailSetting' userFront.pk %}">
                        <span class="glyphicon glyphicon-edit"></span>
                        编辑
                    </a>
                    {% else %}
                    <a class="function-btn" href="{% url 'personalProfile:personalProfileBasic' userFront.pk %}">
                        <span class="glyphicon glyphicon-edit"></span>
                        查看
                    </a>
                    {% endif %}
                </div>
                <div class="description">
                    <div class="js-intro" style="display: block;">{{ userFront.profile.signature }}</div>
                </div>
                <ul class="list user-dynamic">
                    <li>
                        <a href=""><span class="glyphicon glyphicon-th-large"></span>  我关注的专题</a>
                    </li>
                    <li>
                        <a href=""><span class="glyphicon glyphicon-heart-empty"></span> 我喜欢的内容</a>
                    </li>
                </ul>


                <!--专题-->
                <div>
                    <div>
                        <div class="title">
                            我创建的专题
                            <a href="" class="function-btn new-collection-btn" ><span class="glyphicon glyphicon-plus"></span>新建专题</a>
                        </div>


                        <ul class="list">
                            <li>
                                <a href="" target="_blank" class="avatar-collection"><img src="#" alt="Image"></a>
                                <a href="" target="_blank" class="name">model.subjectName</a>
                            </li>
                            <li>
                                <!---->
                                <!---->
                            </li>
                        </ul>
                        

                    </div>
                    <ul class="list">
                        <li>
                            <a href="" target="_blank" ></a>
                            <a hreff="" target="_blank" class="name"><span class="glyphicon glyphicon-book"></span> model.diaryName</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock body %}
